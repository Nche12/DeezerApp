<div *ngIf="artist$ | async as artist">
  <mat-card class="mb-3">
    <div class="row mx-n2">
      <div class="col-lg-6 col-md-6 px-2 py-2">
        <div class="media p-3 cardBlock">
          <mat-card-title-group>
            <mat-card-title>{{ artist.name }}</mat-card-title>
            <mat-card-subtitle *ngIf="artist.nb_fan">
              {{ artist.nb_fan }}
              <span>{{ +artist.nb_fan > 1 ? "fans" : "fan" }}</span>
            </mat-card-subtitle>
            <mat-card-subtitle *ngIf="artist.nb_album">
              {{ artist.nb_album }}
              <span>{{ +artist.nb_album > 1 ? "albums" : "album" }}</span>
            </mat-card-subtitle>
            <img mat-card-xl-image src="{{ artist.picture_xl }}" />
          </mat-card-title-group>
        </div>
      </div>

      <div class="col-lg-6 col-md-6">
        <div class="p-3 tracks">
          <div *ngIf="topTracks$ | async as topTracks">
            <h3>Top tracks</h3>
            <ul class="custom-selection-list">
              <li *ngFor="let track of topTracks; let i = index">
                <div>
                  <span
                    ><img
                      src="{{ track.album.cover_small }}"
                      width="40"
                      height="40"
                  /></span>
                  {{ track.title }}
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </mat-card>
</div>

<div class="row mx-n2" *ngIf="albums$ | async as albums">
  <h1>Albums</h1>
  <div class="col-lg-3 col-md-4 px-2 py-2" *ngFor="let album of albums">
    <mat-card class="example-card">
      <img
        mat-card-image
        src="{{ album.cover_big }}"
        width="100%"
        height="100%"
      />
      <mat-card-content>
        <p>
          <label
            ><strong>{{ album.title }}</strong></label
          >
          <br />
          <label>{{ album.release_date | date : "YYYY" }}</label>
        </p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
